# 프로젝트 기획 배경

---


>💡 **Purpose**



- 가족 구성이 변화하면서 반려동물과 함께 살아가는 일인가구가 많아지고 있다.
- 코로나 이후 반려동물 주인들은 오프라인 보다 집에서 상품을 구매하는 일이 많아지고 있다.
- 반려동물 집사들간 서로 필요한 정보를 공유하고 신뢰할 수 있는 상품을 구매할 수 있는 소셜 커머스 서비스 공간이 필요하다.


>🛒 **Solution**


1. 다양한 카테고리의 상품에 대해 조회하고 결제할 수 있는 서비스를 제공한다.
2. 현재 위치를 기반으로 동물 병원, 동물 약국 지도를 제공한다.
3. 포스팅 게시판을 통해 익명으로 정보를 나누고 소통을 할 수 있도록 한다.
4. 고양이, 강아지에 관한 최근 트랜드 키워드를 뽑아 제공한다.

# ERD 및 OpenAPI

---


>🧾 **ERD**



>⚗️ **OpenAPI**

|제공기관|사용api|
|---|---|
|iamport|카카오페이 테스트 결제 서비스|
|카카오|카카오 지도|
|경기도지자체|경기도 동물 병원, 동물 약국|
|썸트랜드|연관어|
|식품의약안전처|동물의약품정보|

# 기술스택

---


>👩‍💻 **포커스**

```bash
1. 스프링 시큐러티를 통한 로그인 / 회원가입 구현

2. GPS를 활용하여 경기도 내 동물 병원, 동물 약국 찾기

3. Redis를 통해 중복 거래 동기화 처리

4. OpenAPI를 활용한 최신 트랜드 키워드 제공 및 게시판 구현
```


>😺 **스택**

- SpringBoot
- Gradle
- JUnit5
- Mockito
- Validation
- Spring Security
- Java Mail Sender
- Tyymeleaf
- MySQL
- Redis
- Lombok
- JPA

# 상세 기능 및 정책

---

## 🐶 회원(User)


>💡 회원 가입과 로그인


- User는 회원가입을 할 수 있다
    - 회원가입은 이메일 또는 구글을 통해 가입할 수 있다.
    - 회원가입은 아래와 같은 단계를 거치며, 이메일의 경우 3단계 후 이메일 인증을 한다.
    - 1단계 : 회원 정보 입력
      - 아이디(이메일), 이름, 집사레벨, 비밀번호, 휴대폰 번호
      - default : 회원등급(일반회원), 회원상태(미인증 또는 활성화), 가입일, 수정일
    - 2단계 : 내 새꾸 등록 - (여러 마리 등록 가능) 이미지, 종명, 이름, 나이
    - 3단계 : 관심사 입력 - 최대 5개까지 선택 또는 직접 입력
- User는 이메일 또는 구글을 통해 로그인 할 수 있다.
    - 아이디(이메일)가 없는 아이디면 “해당 아이디가 존재하지 않습니다.”가 나타난다.
    - 비밀번호가 일치하지 않는다면 “비밀번호가 일치하지 않습니다.”가 나타난다.
    - 비밀번호가 생각나지 않을 때 [비밀번호 찾기] 링크를 누르면 이메일 인증 메일을 전송한다.


>💡 회원 정보 수정


- User는 마이페이지를 통해 회원 정보를 변경할 수 있다.
    - [회원 정보 수정]에서 비밀번호, 비밀번호 재확인을 입력한 후 회원 정보를 수정할 수 있다.
    - 비밀 번호가 일치하지 않는다면 “비밀번호가 일치하지 않습니다.”가 나타난다.
    - 회원 정보는 이메일을 제외한 나머지를 수정할 수 있다.
    - [내 새꾸 관리]에서 반려 동물을 등록, 수정, 삭제할 수 있다.
    - 반려 동물을 수정하거나 삭제할 때는 알럿을 통해 재확인을 거친다.
    - [내가 쓴 글]에서 작성한 글, 리뷰 목록을 확인할 수 있다.
- 관리자는 Admin의 [회원관리]를 통해 회원 수정을 할 수 있다.
    - 회원 상세페이지에서 아이디/비밀번호를 제외한 회원정보를 수정할 수 있다.
    - 관리자는 회원상태를 변경할 수 있다. (미인증/활성화/정지)
    - 관리자는 회원등급을 변경할 수 있다. (일반회원/고객사/관리자)


>💡 회원 탈퇴


- User는 마이페이지에서 회원 탈퇴를 할 수 있다.
    - 회원 탈퇴 시 플래그를 사용하지 않고, 물리 삭제를 한다.
    - 별도의 복구 처리가 불가능함에 대해 알럿을 통해 명시한다.

## 🥡 카테고리(Category)


>💡 카테고리 목록


- 관리자는 Admin에서 카테고리 목록을 조회할 수 있다.
    - 카테고리는 대분류, 중분류, 소분류로 나누어진다.
    - 하나 이상의 노출 상품이 있는 카테고리는 삭제할 수 없다.


>💡 카테고리 등록, 수정 페이지


- 관리자는 Admin에서 카테고리를 등록, 수정할 수 있다.
    - 신규 카테고리는 등록 직후 미노출 상태이다.
    - 관리자가 카테고리를 노출하는 것으로 선택하면,
    사용자 상품 카테고리에 노출되며, 고객사는 상품 등록 시 해당 카테고리를 선택할 수 있다.
    - 하나 이상의 노출 상품이 있는 카테고리는 미노출 상태로 변경할 수 없다.

## 🍖 상품(Product)


>💡 상품 목록


- User는 상품 목록을 조회할 수 있다.
    - 상품 목록에는 썸네일, 상품명, 할인 퍼센트, 할인가, 정가가 있다.
    - 상품은 필터링 기준(최신등록일순, 가격순)에 따라 정렬한다.
    - 상품은 한 페이지에 20개씩 조회할 수 있다.
- 고객사는 Admin에서 자신이 등록한 상품 목록을 조회할 수 있다.
    - 상품 목록에는
    - 카테고리, 상품코드, 상품명, 진열수, 판매수, 정가, 할인가, 등록일, 관리가 있다.
    - 고객사는 관리에서 [마켓으로 보내기] 버튼을 통해 상품을 노출시킬 수 있다.


>💡 상품 상세페이지


- User는 상품 상세페이지를 조회할 수 있다.
    - User는 [장바구니]를 통해 상품을 장바구니에 넣고, 알럿을 통해 장바구니로 이동할 수 있다.
    - User는 [구매하기]를 통해 상품을 결제할 수 있다.


>💡 상품 등록 및 수정


- 고객사는 Admin에서 상품을 등록할 수 있다.
    - 고객사는 카테고리, 썸네일, 상품명, 할인가, 정가, 상품 상세내용을 입력한다.
    - 상품 상세 내용은 네이버 스마트 에디터를 통해 작성한다.
    - 상품 수정 시 상품 등록자와 로그인 아이디가 일치하지 않으면 에러를 반환한다.

## 🛒 장바구니(Cart)


>💡 장바구니 목록


- User는 장바구니에 추가한 상품 목록을 볼 수 있다.
    - 장바구니 상품 목록에서 구매할 상품을 체크박스로 선택할 수 있다.
    - 장바구나 상품 목록에서 구매할 상품의 수량을 선택할 수 있다.
    - 구매할 상품이 없는 경우 상품을 장바구니에서 제거한 후 에러를 반환한다.
    - 구매할 상품의 수량이 재고보다 많은 경우, 에러를 반환한다.
    - 체크박스로 선택된 상품들에 대한 최종 결제 금액을 확인할 수 있다.
    - [총 XXXX 원 주문하기]를 통해 결제 페이지로 이동할 수 있다.

## 💰 결제(Transaction)


>💡 결제 페이지


- User는 결제 페이지에서 결제 정보를 입력할 수 있다.
    - 결제 정보에는 받는 사람, 휴대폰번호, 주소가 있다.
    - 결제 수단은 일괄적으로 일반결제로 한다.
    - 결제 api의 응답이 5분 이상 지연될 경우 에러를 반환한다.

## 📝 포스팅(Posting)


>💡 포스팅 목록


- User는 포스팅 목록을 조회할 수 있다.
    - 포스팅이 아무 것도 없으면 “포스팅이 없습니다”를 노출한다.
    - 포스팅은 등록일을 기준으로 최신순으로 노출한다.
    - 포스팅은 한 페이지에 10개씩 조회할 수 있다.
    - 목록에는 썸네일과 제목이 있다.
    - User는 제목/내용 검색어를 통해 검색을 할 수 있다.
- 관리자는 Admin에서 포스팅 목록을 조회할 수 있다.
    - 포스팅이 아무 것도 없으면 “포스팅이 없습니다”를 노출한다.
    - 포스팅은 한 페이지에 10개씩 조회할 수 있다.
    - 관리자는 포스팅을 목록에서 포스팅을 선택해 삭제할 수 있다.


>💡 포스팅 상세페이지


- User는 포스팅 상세페이지에서 상세 내용을 볼 수 있다.
    - 로그인을 한 회원만 상세페이지로 이동할 수 있다.
    - 상세페이지에는 작성자의 집사레벨, 작성일을 노출한다.
    - [목록]을 통해 목록으로 돌아갈 수 있다.
    - 포스팅 작성자에게만 [수정]과 [삭제] 버튼을 노출한다.


>💡 포스팅 등록 및 수정


- User는 포스팅을 등록하고 수정할 수 있다.
    - 등록 및 수정 시 에디터를 사용하며, 에디터는 네이버 스마트 에디터를 사용한다.
    - 수정 시 작성자와 로그인 아이디가 일치하지 않으면 에러를 반환한다.


![test coverage](.github/badges/jacoco.svg)
